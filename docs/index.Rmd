---
title: "Principles of Governance and Data Management"
author: "James R Holmquist, J Patrick Megonigal, Emmett Duffy, Lisamarie Windham-Myers, Jim Tang, Kevin Kroeger, Jorge Ramos, Emily Pigeon"
output: 
  html_document
---

<script>
   $(document).ready(function() {
     $head = $('#header');
     $head.prepend('<img src=\"images/CoastalCarobonRCNLogo-OnlyLogo.png\" style=\"float: right;width: 150px;\"/>')
   });
</script>

```{r, echo=FALSE}
#htmltools::img(src = knitr::background_("images/CoastalCarobonRCNLogo-OnlyLogo.png"), 
#               alt = 'CCRCN logo', 
#               style = 'position:absolute; top:0; right:0; padding:25px; width: auto; height: auto; max-width: 200px;max-height: 200px')
```

**Note: This document is for public review. If you have any comments about these principles, please email** CoastalCarbon@si.edu **by Friday May 13th at 12 pm EST**

## Contents
* [Overview](#overview)
* [Governance Structure](#governance-structure)
    + [Core Principles](#core-principles)
    + [Defined Roles and Responsibilities within the CCRCN](#defined-roles-and-responsibilities-within-the-ccrcn)
    + [Data Synthesis Workshops](#data-synthesis-workshops)
    + [Coauthorship Policy](#coauthorship-policy)
* [Data Management Principles](#data-management-principles)
    + [Types of Data](#types-of-data)
    + [Digital Object Identifiers](#digital-object-identifiers)
    + [Metadata standards](#metadata-standards)
    + [Variables]("variables")
        - [Proposed Level of Disaggregation for Variables](#proposed-level-of-disaggregation-for-variables)
        - [Hierarchical Structure](#hierarchical-structure)
    + [Data Storage](#data-storage)
    + [Quality Control](#quality-control)
    + [Data Use Policy](#data-use-policy)

## Overview
The goal of the Coastal Carbon Research Coordination Network (CCRCN) is to accelerate the pace of discovery in coastal wetland carbon science by providing our community with access to data, analysis tools, and synthesis opportunities. Our proposed activities include bringing data libraries online, creating open source analysis and modeling tools, providing training and outreach opportunities, holding town halls and responding to community feedback, and hosting five data synthesis workshops each targeted at strategically reducing uncertainty in a coastal carbon science issue.  

One of our proposed activities is building an online data library of soil carbon data. This effort builds off of efforts undertaken by the NASA Blue Carbon Monitoring System, and discussions undertaken by 46 participants at the Coastal Carbon Working Group in 2016 in Menlo Park, CA. These data management principles incorporate experience from both of these efforts as as well as research on data management best practices, and collaborations with data management specialists across both the Smithsonian our partner agencies.

## Governance Structure
### Core Principles
1. We are responsive to the community. 
2. We will focus on quantifiable improvements to the state of the science. 
3. We will build off of previous efforts. 
4. We provide open data and analytics.

### Defined Roles and Responsibilities within the CCRCN
* **Principle Investigators** - Refer the the three names listed as principal investigators on the original Coastal Carbon RCN proposal to NSF and include Emmett Duffy, J Patrick Megonigal, and James Holmquist. PIs are responsible for executing the project as proposed to NSF and reporting to NSF on project progress.
* **Steering Committee Members** - refer to the 3 PIs and 5 other elected members from outside agencies who guide the direction and contribute to implementing of CCRCN goals. Steering committee members are expected to serve between 1-2 years. New steering committee members can be nominated by their colleagues, will be voted on by the current steering committee, and will rotate in for members stepping down one or two at a time, twice a year. Steering committee members are responsible for attending monthly meetings, voting on synthesis meeting topics, participants, and new steering committee members. 
* **CCRCN Personnel** - Include PIs, the steering committee, as well as federal and trust employees and volunteers with official Smithsonian affiliations working on CCRCN-related tasks. Personnel are responsible for implementing CCRCN goals.
* **Collaborators** - Refer to researchers who are not CCRCN personnel, but are otherwise actively contributing to CCRCN products in collaboration with CCRCN personnel or as part of data synthesis workshops. Collaborators are expected to participate at the level of co-author on synthesis products.
* **Collaborating Organizations** - are similar to collabors except in a more official capacity an organization has issued a memorandum of understanding or letter of support to formalize collaboration with CCRCN. Collaborating organizations are expected to explore financial support of additional proposed activities not currently supported by CCRCN’s NSF funding, as well as explore opportunities to secure funding for the next iteration of CCRCN past the current five years of NSF funding.
* **Partners** - Are a broad group engaged in any type of communication and feedback with the CCRCN. There are many opportunities to participate including remote consultations, town halls, twitter, webinars, online surveys, and participating in public comment periods. The best way to be recognized as a partner is to sign up for regular CCRCN email updates.
* **Partner Organizations** - are similar to partners except in a more official capacity an organization has issued a memorandum of understanding or letter of support to formalize partnership with CCRCN. This could involve consultation or other non-monetary support for CCRCN goals.
* **Users** - Refer to anyone using data structures or synthesis products created by the CCRCN. There is no obligation to involve CCRCN personnel or collaborators in individual research efforts beyond the funded data networking and synthesis workshops funded by NSF. User responsibilities include properly citing CCRCN synthesis products and properly citing original authors in the case that datasets curated to or synthesized by the CCRCN are downloaded and reused. See [Data Use Policy](#data-use-policy).  

### Data Synthesis Workshops
Data synthesis products lead by the CCRCN will be developed over the course of five workshops led by CCRCN personal, or collaborators. Potential collaborators can propose a workshop, or apply to participate in workshops once they are announced. Topics and 12-15 participants for each workshop will be voted on by the steering committee.

### Coauthorship Policy
Researchers accepted to participate in any of the the five synthesis workshops hosted by the RCN will be expected to contribute at the level of a co-author preparing for, participating in, and following workshops. We agree to follow the [American Geophysical Union’s 2017 Scientific and Professional Ethics: Guideline B. Ethical Obligations of Authors/Contributors for determining co-authorship](https://harassment.agu.org/files/2017/08/ScientificIntegrityandProfessionalEthics_25August2017.pdf). Submitting data to the network alone will not merit co-authorship in data syntheses. If done according to the protocols established herein, it will result in citation.  

The steering committee also recognizes that a common criticism of such co-authorship policies in data sharing exercises is that established researchers from western industrialized nations can disproportionately benefit at the expense of researchers from groups with less institutional power [^1]. Recognizing this we commit to prioritizing the involvement of students, those with indigenous knowledge, and researchers from low and middle income countries, as synthesis workshops attendees/co-authors, when applicable.

## Data Management Principles
### Types of Data
Throughout this document we will refer to **data that we curate**, **data that we ingest**, and **synthesis products** we create. All data that we curate will be hosted by on Smithsonian Institution (SI) servers, but the original data submitter, and funding sources will be credited as the dataset’s creators. Data that we ingest will include both data we curate, and data from any outside sources that meet basic availability, archiving, and metadata standards. These data will be pulled into intermediate files in a centralized database using `R` code. The workflow and files will be archived and publically available on an SI run `GitHub` website. This document refers to soil depth profile data throughout, but it is our intention that these general structure and principles be applied to other types of data as the CCRCN progresses.

### Digital Object Identifiers
To be cited and used in the CCRCN synthesis, a dataset needs to have a citable **digital object identifier (DOI)**, which points to a repository containing freely downloadable data, and associated metadata. If data were discussed as part of a peer-reviewed journal article or report with a DOI, but are not otherwise publically available in their original form, then a second DOI for the dataset would be needed for inclusion in synthesis activities. Even if data are publically available, a new DOI should be assigned in cases where the original data is not machine readable, or data were missing key detail necessary for CCRCN synthesis purposes. In cases where data is continuously updated over time, we propose version controlling data, rather than issuing a new DOI for every update.  

Submitters can choose to archive data according to these outlined standards, host data on an SI server, and apply for a DOI through Smithsonian Institution Libraries (SIL) with the assistance of CCRCN personnel. This service is specific to this project. While data will be digitally archived long-term in accordance with SI standards, we cannot guaranty new data will be accepted after CCRCN funding ends. For data that we curate, file trees will be hosted on SI `DSpace` and DOIs will be issued by SIL. Although CCRCN cannot make any guarantees about how long digital objects will be stable, we hope that SI’s reputation, `DSpace`’s status as an approved technology, and the SIL’s commitment to digital object curation, generate an acceptable level of community trust.

Data submitters can choose to forward outside DOI’s to the CCRCN which will be ingested into the central data structure on the CCRCN’s SI `GitHub` website using custom written `R` scripts. Some DOI issuing repository services include [Figshare](https://figshare.com/) and the [Environmental Data Initiative](https://environmentaldatainitiative.org/). While we recognize that there is no official definition for what constitutes a *trusted repository*, repositories associated with DOIs should in general have community recognition and trust in their long-term stability.

### Metadata standards
For data that we curate, we will be using the *Environmental Metadata Language* standards. This includes an abstract, detailed submitor information, variable definitions, and variable data types, for example character, integer, or float. CCRCN personnel will use the R-based [EML](https://cran.rstudio.com/web/packages/EML/) package in our workflow to create metadata for data that we curate.

### Variables
Variable naming should follow good management practices[^2]. Variable names should be self descriptive and machine readable. They should contain no spaces, instead using *pothole case* (underscores instead of spaces or special characters), and not begin with a numbers or special character. For example for organic matter measured by loss-on-ignition at 550 degrees celsius: bad: 550loi, better: loi550, best: loss_on_ignition with 550 degree ignition temperature specified elsewhere in the metadata.  

We will recommend controlled vocabulary, variable names and variables, we wish to keep consistently formatted. for key variables relevant to our synthesis work. All other variable names will be considered user defined and will need to be defined in the associated metadata. Controlled vocabulary will be updated if there as there is need expressed by CCRCN partners.  

Units for all variables need to be defined and in some cases controlled. For some variables which typically have commonly reported units we will recommend submittors format using these controlled units. These include loss_on_ignition (fraction), dry_bulk_density (g cm^-3) and latitude and longitude (decimal degrees [world geological survey 1983]). For variables that are applicable to the synthesis, but typically have multiple common unit formats we recommend an accompanying column defining these units. Uncommon or data types not included in synthesis projects simply need to have units defined in associated metadata.  

There are a few special cases we are already aware of that require special discussion. Positional Information can either be associated with cores, sites, or both. However, positional information at one of these levels is required for inclusion in synthesis products. For some variables such as % carbon values, some studies may measure this using elemental analysis, while others may model it estimating it as a function of % organic matter.  In these special cases we would create a special methods column to indicate whether the variable is measured or modeled.  

Other consistent good data practices include consistently formatting no data values and categorical variables. In our synthesis work ‘no data’ values will be represented as ‘NA’, never as blank cells or -9999. Categorical variables should have descriptive names stored as text, similar to variables names. For example one may code the categorical variable ‘treatments’ as numeric values ‘0’ and ‘1’ standing in for ‘experimental’ and ‘control’. Best practices would dictate coding these as characters rather than numbers.  

Some projects, sites, and cores may also have additional data tables that do not fit well with the prescribed structure. Some instances where this may be useful for the soil carbon core synthesis are age-depth models and tables of paired measurements of % organic matter and % carbon. In these cases additional tables can be included and indexed to their proper hierarchy.  

For data we curate we will recommend using controlled vocabulary units and variable types. For data we ingest we will keep a file of corresponding controlled variables and ‘aliases’ so that data not complying with controlled vocabulary can still be ingested. We will document transformation made to ingested data to standardize them with the data we curate in `R` code.

##### Proposed Level of Disaggregation for Variables
In general we believe that there should be community agreement on the finest level of data disaggregation archived for practical use and reuse. This fundamental unit should be the most detailed unit typically used and reported in the available literature. For soils data we propose that we stratify by site, by core, and by depth increment. We propose that calculations such as loss-on-ignition and bulk density for each depth increment should be fundamental level of archiving. For age-depth information we propose archiving radiocarbon (<sup>14</sup>C) age ± sd for a sample for <sup>14</sup>C dates, and counts per unit dry weight ± sd for <sup>210</sup>Pb and <sup>137</sup>Cs profiles.  

We will not archive data at levels of disaggregation typically useful only for internal laboratory processes, but not orderly efficient data sharing. For example soil cores bulk density and loss on ignition for example we would not archive crucible weights before and after ignition.

#### Hierarchical Structure
We will make an effort to ingest existing data and curate submitted data in a hierarchical framework. Information associated with submitters, projects, sites, cores, and depth profiles will all be hosted in seperate tables related by indexes codes that are unique in that database. Submitter metadata include name and affiliation data for principal investigators. This will be indexed using the principal investigator’s last name and first initial. Numbers will be added in case of conflicts (Example: Jane Doe = DoeJ). A submitter can have be associated with one or more projects.  

**Project metadata** will have an abstract and information about coauthors, associated funding source, or set of funding sources, associated publications, and materials and methods. A project should be a discrete unit of research united by consistent personnel, funding sources, and materials and methods.A project code should be a brief but descriptive and user defined, but should not otherwise conflict with existing project codes for example: DoeJ_USGS_saltmarsh_resiliency_grant_2011_to_2015. Note the use of pothole case, and the descriptive but brief nature of the code. A project can be associated with one or more sites. One project should be associated with one DOI.  

**Sites** refer to discrete geographic or management units and are somewhat nebulous, project specific, and user defined. Site metadata refer to data associated with the sites, such as location (minimum and maximum latitude and longitude), notes on dominant vegetation types, salinity, and site condition. A site code should be follow the same best practices for variable naming, no spaces, not starting with a number, descriptive, brief, and meaningful to project documentation and design, for example morro_bay or south_bay_pond12a. Although there are no standards for what constitutes a site, and different projects could have the different names for the same site, this coding should be consistent within a project. A site can have one or more data sets, including one or more soil cores.  

**Core/Plot-Level** data refer to information specifically about the location of a soil core. This could include positional information such as latitude, longitude, and elevation. It could also include notes are redundant but more detailed than site metadata, such as vegetation. A core code should be follow the same best practices for variable naming, no spaces, not starting with a number, descriptive, brief, and meaningful to project documentation and design. In cases where cores have the same name and are numbered, the number of digits should be kept consistent using leading zeros. For example of there were 20 cores in a dataset and leading zeros were not used, they would appear listed in the order (core1, core10, core11 … core9). If leading 0’s were used they would appear properly ordered (core01, core02, core03 … core20). Each core should have a unique name within a project. Redundant core names can occur within, the entire dataset, but as long as they are indexed to different sites, projects, and submitted, the database architecture as we design it will not confuse them.  

For future syntheses this level of hierarchy could also house other types of plot data or instrumental data. For example, a user may want to query our dataset to find all projects which have sites including both soil core data and methane flux.  

**Depth Series Information**: Soil cores have depth-series information which should include minimum and maximum depth increments, as well as measurements presented in their fundamental unit (explained below), with associated methods notes, uncertainties, and/or QA:QC flags if applicable (explained below). 
Each sample should have it’s own ‘sample code’. These can be submitter defined, but should conform to general good principles for variable naming. If they are not defined by the data submitters they will be assigned as the core name the depth increment in centimeters, and letters a - z, then aa - zz, etc, in pothole case. Leading 0’s will also be used to keep the number of digits in the depth increments consistent. For example in a case with 20 cores without unique names, that are 100 cm long and there are three replicates for each sample: core01_000to001cm_a, core01_000to001cm_b … core20_090to100cm_c.
In future syntheses time-series data could also be archived in this format with instrument replacing a core, and time replacing depth.

### Data Storage
Tabular data will be stored in a flat text file, meaning that no data formatting will be included. We will default to using tab delimited text files “.txt” for the sake of simplicity. Although comma separated values “.csv” are also common, these types of files can be corrupted if commas are ever used within a variable rather than just to delineate variables. Submissions that are received in other formats, such Microsoft Excel files will be edit locked and archived as submission documents. However, a working version of this submission will be formatted according to CCRCN standards in flat text files.  

Tabular data will be stored in long-form tables, as opposed to wide-form tables. Each column should correspond to one variable, each row should correspond to one entry. Each column needs to have a single data type, and represent only one variable. Extra information such as units, notes, or operator code should not be encoded as an excel note, cell color, or be included in the same cell as a value.

### Quality Control
CCRCN personnel will perform a cursory visual check on all data we curate and note then relay any concerns with the data submitter during the curation process. We will also write scripts to enforce consistent units and data types for controlled variables, to check for completeness, and to ensure there are no conflicts or duplicates with previously archived data.  

Some key variables will receive quality control flags. For variables that are strongly intercorrelated, quality control flags will be assigned to the whole sample unit. Key variables independent of sample intercorrelation will receive variable-specific quality code flags. For example, organic matter and bulk density are tightly intercorrelated. Values falling far outside this known relationship could receive a flag for the entire sampling interval. Whereas, a suspiciously young radiocarbon date would require a separate flag as that error would presumably be independent of the bulk density and loss-on-ignition measurements.
For data that we curate,files will be edit locked following QA:QC. Any updates or corrections will result in a new named ‘version’ of the file, a change logged by CBSSC personnel in a text file associated with the data, and a note of the change sent to the next update to CBSSC email list members.


### Data Use Policy
We refer to **users** as anyone using either data we curate, or synthesis products we create. Data that is curated, but not created, by the CCRCN, should not be attributed to the CCRCN. Users should cite all dataset DOIs and credit the datasets original authors. All synthesis products created by the CCRCN and associated collaborators will be listed under a Creative Commons *With Attribution* license. The CCRCN should be acknowledged and cited appropriately if users utilize any of the data structures, tools, or scripts developed by CCRCN and associated collaborators. For example if a user downloaded datasets from 100 sources, through the CCRCN GitHub interface, the user would be responsible for both citing all 100 database DOI’s, and the DOI for the CCRCN GitHub-based interface. We will develop additional tools to assist users in generating lists of citations, but users will be ultimately responsible for correctly citing all data used.

[^1]: Serwadda D, Ndebele P, Grabowski MK, Bajunirwe F, Wanyenze RK (2018). Open data sharing and the Global South—Who benefits?. Science, 359(6376), 642-643.https://doi.org/10.1126/science.aap8395
[^2]: Wilson G, Bryan J, Cranston K, Kitzes J, Nederbragt L, Teal TK (2017) Good enough practices in scientific computing. PLoS Comput Biol 13(6): e1005510. https://doi.org/10.1371/journal.pcbi.1005510